<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hcash: F:/hshare_org/Hcash/libraries/net/Node.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HSR.ico"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hcash
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   <div id="projectbrief">hcash</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_38b8958f516c787979e75599b9e31f0c.html">net</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Node.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;iomanip&gt;</code><br />
<code>#include &lt;deque&gt;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
<code>#include &lt;list&gt;</code><br />
<code>#include &lt;forward_list&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;tuple&gt;</code><br />
<code>#include &lt;boost/tuple/tuple.hpp&gt;</code><br />
<code>#include &lt;boost/circular_buffer.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index_container.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index/ordered_index.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index/mem_fun.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index/member.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index/random_access_index.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index/tag.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index/sequenced_index.hpp&gt;</code><br />
<code>#include &lt;boost/multi_index/hashed_index.hpp&gt;</code><br />
<code>#include &lt;boost/logic/tribool.hpp&gt;</code><br />
<code>#include &lt;boost/range/algorithm_ext/push_back.hpp&gt;</code><br />
<code>#include &lt;boost/range/numeric.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/accumulators.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/stats.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/rolling_mean.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/min.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/max.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/sum.hpp&gt;</code><br />
<code>#include &lt;boost/accumulators/statistics/count.hpp&gt;</code><br />
<code>#include &lt;boost/preprocessor/seq/for_each.hpp&gt;</code><br />
<code>#include &lt;boost/preprocessor/cat.hpp&gt;</code><br />
<code>#include &lt;boost/preprocessor/stringize.hpp&gt;</code><br />
<code>#include &lt;fc/thread/thread.hpp&gt;</code><br />
<code>#include &lt;fc/thread/future.hpp&gt;</code><br />
<code>#include &lt;fc/thread/non_preemptable_scope_check.hpp&gt;</code><br />
<code>#include &lt;fc/thread/mutex.hpp&gt;</code><br />
<code>#include &lt;fc/thread/scoped_lock.hpp&gt;</code><br />
<code>#include &lt;fc/log/logger.hpp&gt;</code><br />
<code>#include &lt;fc/io/json.hpp&gt;</code><br />
<code>#include &lt;fc/io/enum_type.hpp&gt;</code><br />
<code>#include &lt;fc/crypto/rand.hpp&gt;</code><br />
<code>#include &lt;fc/network/rate_limiting.hpp&gt;</code><br />
<code>#include &lt;<a class="el" href="_node_8hpp_source.html">net/Node.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_peer_database_8hpp_source.html">net/PeerDatabase.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_peer_connection_8hpp_source.html">net/PeerConnection.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_stcp_socket_8hpp_source.html">net/StcpSocket.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="net_2_config_8hpp_source.html">net/Config.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="net_2_exceptions_8hpp_source.html">net/Exceptions.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_messages_8hpp_source.html">client/Messages.hpp</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_git_revision_8hpp_source.html">utilities/GitRevision.hpp</a>&gt;</code><br />
<code>#include &lt;fc/git_revision.hpp&gt;</code><br />
<code>#include &quot;<a class="el" href="_level_map_8hpp_source.html">db/LevelMap.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_fast_level_map_8hpp_source.html">db/FastLevelMap.hpp</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsrcore_1_1net_1_1detail_1_1_blockchain_tied_message_cache.html">hsrcore::net::detail::BlockchainTiedMessageCache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhsrcore_1_1net_1_1detail_1_1_node_configuration.html">hsrcore::net::detail::NodeConfiguration</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhsrcore_1_1net_1_1detail_1_1_prioritized_item_id.html">hsrcore::net::detail::PrioritizedItemId</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsrcore_1_1net_1_1detail_1_1_statistics_gathering_node_delegate_wrapper.html">hsrcore::net::detail::StatisticsGatheringNodeDelegateWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsrcore_1_1net_1_1detail_1_1_statistics_gathering_node_delegate_wrapper_1_1_call_statistics619c0135613833abb70ce80ceda51849.html">hsrcore::net::detail::StatisticsGatheringNodeDelegateWrapper::CallStatisticsCollector::ActualExecutionMeasurementHelper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhsrcore_1_1net_1_1detail_1_1_node_impl.html">hsrcore::net::detail::NodeImpl</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhsrcore_1_1net_1_1_simulated_network_1_1node__info.html">hsrcore::net::SimulatedNetwork::node_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacehsrcore"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehsrcore.html">hsrcore</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacehsrcore_1_1net"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehsrcore_1_1net.html">hsrcore::net</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacehsrcore_1_1net_1_1detail"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacehsrcore_1_1net_1_1detail.html">hsrcore::net::detail</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8c7a288fea519c7e895518f8dff4888f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a8c7a288fea519c7e895518f8dff4888f">DEFAULT_LOGGER</a>&#160;&#160;&#160;&quot;p2p&quot;</td></tr>
<tr class="separator:a8c7a288fea519c7e895518f8dff4888f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ab73e21023b346e097d4976748ecde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a19ab73e21023b346e097d4976748ecde">P2P_IN_DEDICATED_THREAD</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a19ab73e21023b346e097d4976748ecde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23293fafa26808f527bce0caa14c34c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#ae23293fafa26808f527bce0caa14c34c">INVOCATION_COUNTER</a>(name)</td></tr>
<tr class="separator:ae23293fafa26808f527bce0caa14c34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed6716968f40b82c9bb2f6227915dda3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#aed6716968f40b82c9bb2f6227915dda3">testnetlog</a>(...)&#160;&#160;&#160;do {} while (0)</td></tr>
<tr class="separator:aed6716968f40b82c9bb2f6227915dda3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b5e2f52305f90794f2cf5d795bff16"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a13b5e2f52305f90794f2cf5d795bff16">NODE_DELEGATE_METHOD_NAMES</a></td></tr>
<tr class="separator:a13b5e2f52305f90794f2cf5d795bff16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9955f685c553d5502dfcc0ecf53896bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a9955f685c553d5502dfcc0ecf53896bf">DECLARE_ACCUMULATOR</a>(r,  data,  method_name)</td></tr>
<tr class="separator:a9955f685c553d5502dfcc0ecf53896bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f4d813e34a3988bc1f0a4cc41c7b000"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a8f4d813e34a3988bc1f0a4cc41c7b000">NODE_CONFIGURATION_FILENAME</a>&#160;&#160;&#160;&quot;node_config.json&quot;</td></tr>
<tr class="separator:a8f4d813e34a3988bc1f0a4cc41c7b000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acee3a44225059cbcba59946a53483b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a9acee3a44225059cbcba59946a53483b">POTENTIAL_PEER_DATABASE_FILENAME</a>&#160;&#160;&#160;&quot;peers.leveldb&quot;</td></tr>
<tr class="separator:a9acee3a44225059cbcba59946a53483b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c86600d3aa7c655231fd350314702a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#ac7c86600d3aa7c655231fd350314702a">BLACKLIST_DATABASE_FILENAME</a>&#160;&#160;&#160;&quot;blacklist.leveldb&quot;</td></tr>
<tr class="separator:ac7c86600d3aa7c655231fd350314702a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d01d35d4785b99189b9861666f49cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a23d01d35d4785b99189b9861666f49cc">VERIFY_CORRECT_THREAD</a>()&#160;&#160;&#160;assert(_thread-&gt;is_current())</td></tr>
<tr class="separator:a23d01d35d4785b99189b9861666f49cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8238e077a5539c715e8dca0ac73bfa06"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a8238e077a5539c715e8dca0ac73bfa06">MAXIMUM_NUMBER_OF_BLOCKS_TO_HANDLE_AT_ONE_TIME</a>&#160;&#160;&#160;200</td></tr>
<tr class="separator:a8238e077a5539c715e8dca0ac73bfa06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545ea54fda84df8901589fbd57b91c92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a545ea54fda84df8901589fbd57b91c92">MAXIMUM_NUMBER_OF_BLOCKS_TO_PREFETCH</a>&#160;&#160;&#160;(10 * <a class="el" href="_node_8cpp.html#a8238e077a5539c715e8dca0ac73bfa06">MAXIMUM_NUMBER_OF_BLOCKS_TO_HANDLE_AT_ONE_TIME</a>)</td></tr>
<tr class="separator:a545ea54fda84df8901589fbd57b91c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae476eba36d6dae7183d30ff170b61d41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#ae476eba36d6dae7183d30ff170b61d41">INVOKE_IN_IMPL</a>(method_name, ...)&#160;&#160;&#160;return my-&gt;_thread-&gt;async([&amp;](){ return my-&gt;method_name(__VA_ARGS__); }, &quot;thread invoke for method &quot; BOOST_PP_STRINGIZE(method_name)).wait()</td></tr>
<tr class="separator:ae476eba36d6dae7183d30ff170b61d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663a583f9e609791c5f88079500e44da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a663a583f9e609791c5f88079500e44da">ROLLING_WINDOW_SIZE</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:a663a583f9e609791c5f88079500e44da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f39ac4aacd037ec7056a2709d5cfc01"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a2f39ac4aacd037ec7056a2709d5cfc01">INITIALIZE_ACCUMULATOR</a>(r,  data,  method_name)</td></tr>
<tr class="separator:a2f39ac4aacd037ec7056a2709d5cfc01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ae9f76596b94081d30ef45ff5084d1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#ad5ae9f76596b94081d30ef45ff5084d1">ADD_STATISTICS_FOR_METHOD</a>(r,  data,  method_name)</td></tr>
<tr class="separator:ad5ae9f76596b94081d30ef45ff5084d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e39375d99768cf91f9a4bac079c1ce6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#a8e39375d99768cf91f9a4bac079c1ce6">INVOKE_AND_COLLECT_STATISTICS</a>(returnValue,  method_name, ...)</td></tr>
<tr class="separator:a8e39375d99768cf91f9a4bac079c1ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae15b2b86a2a5527d8766892e6467129e"><td class="memItemLeft" align="right" valign="top">() accept_incoming_connections()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_node_8cpp.html#ae15b2b86a2a5527d8766892e6467129e">wait_if_endpoint_is_busy</a> (private_key))</td></tr>
<tr class="separator:ae15b2b86a2a5527d8766892e6467129e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad5ae9f76596b94081d30ef45ff5084d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ae9f76596b94081d30ef45ff5084d1">&#9670;&nbsp;</a></span>ADD_STATISTICS_FOR_METHOD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADD_STATISTICS_FOR_METHOD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">method_name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">fc::mutable_variant_object BOOST_PP_CAT(method_name, _stats); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;min&quot;</span>] = boost::accumulators::min(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _execution_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;mean&quot;</span>] = boost::accumulators::rolling_mean(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _execution_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;max&quot;</span>] = boost::accumulators::max(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _execution_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;sum&quot;</span>] = boost::accumulators::sum(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _execution_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_before_min&quot;</span>] = boost::accumulators::min(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_before_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_before_mean&quot;</span>] = boost::accumulators::rolling_mean(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_before_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_before_max&quot;</span>] = boost::accumulators::max(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_before_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_before_sum&quot;</span>] = boost::accumulators::sum(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_before_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_after_min&quot;</span>] = boost::accumulators::min(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_after_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_after_mean&quot;</span>] = boost::accumulators::rolling_mean(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_after_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_after_max&quot;</span>] = boost::accumulators::max(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_after_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;delay_after_sum&quot;</span>] = boost::accumulators::sum(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_after_accumulator))); \</div><div class="line">      BOOST_PP_CAT(method_name, _stats)[<span class="stringliteral">&quot;count&quot;</span>] = boost::accumulators::count(BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _execution_accumulator))); \</div><div class="line">      statistics[BOOST_PP_STRINGIZE(method_name)] = BOOST_PP_CAT(method_name, _stats);</div></div><!-- fragment -->
</div>
</div>
<a id="ac7c86600d3aa7c655231fd350314702a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7c86600d3aa7c655231fd350314702a">&#9670;&nbsp;</a></span>BLACKLIST_DATABASE_FILENAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLACKLIST_DATABASE_FILENAME&#160;&#160;&#160;&quot;blacklist.leveldb&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9955f685c553d5502dfcc0ecf53896bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9955f685c553d5502dfcc0ecf53896bf">&#9670;&nbsp;</a></span>DECLARE_ACCUMULATOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DECLARE_ACCUMULATOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">method_name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">mutable</span> CallStatsAccumulator BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _execution_accumulator)); \</div><div class="line">      mutable CallStatsAccumulator BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_before_accumulator)); \</div><div class="line">      mutable CallStatsAccumulator BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_after_accumulator));</div></div><!-- fragment -->
</div>
</div>
<a id="a8c7a288fea519c7e895518f8dff4888f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7a288fea519c7e895518f8dff4888f">&#9670;&nbsp;</a></span>DEFAULT_LOGGER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_LOGGER&#160;&#160;&#160;&quot;p2p&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f39ac4aacd037ec7056a2709d5cfc01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f39ac4aacd037ec7056a2709d5cfc01">&#9670;&nbsp;</a></span>INITIALIZE_ACCUMULATOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INITIALIZE_ACCUMULATOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">r, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">data, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">method_name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">, BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _execution_accumulator))(boost::accumulators::tag::rolling_window::window_size = <a class="code" href="_node_8cpp.html#a663a583f9e609791c5f88079500e44da">ROLLING_WINDOW_SIZE</a>) \</div><div class="line">      , BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_before_accumulator))(boost::accumulators::tag::rolling_window::window_size = <a class="code" href="_node_8cpp.html#a663a583f9e609791c5f88079500e44da">ROLLING_WINDOW_SIZE</a>) \</div><div class="line">      , BOOST_PP_CAT(_, BOOST_PP_CAT(method_name, _delay_after_accumulator))(boost::accumulators::tag::rolling_window::window_size = <a class="code" href="_node_8cpp.html#a663a583f9e609791c5f88079500e44da">ROLLING_WINDOW_SIZE</a>)</div><div class="ttc" id="_node_8cpp_html_a663a583f9e609791c5f88079500e44da"><div class="ttname"><a href="_node_8cpp.html#a663a583f9e609791c5f88079500e44da">ROLLING_WINDOW_SIZE</a></div><div class="ttdeci">#define ROLLING_WINDOW_SIZE</div><div class="ttdef"><b>Definition:</b> Node.cpp:5261</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae23293fafa26808f527bce0caa14c34c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae23293fafa26808f527bce0caa14c34c">&#9670;&nbsp;</a></span>INVOCATION_COUNTER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVOCATION_COUNTER</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">unsigned</span> total_ ## name ## _counter = 0; \</div><div class="line">    static <span class="keywordtype">unsigned</span> active_ ## name ## _counter = 0; \</div><div class="line">    struct name ## _invocation_logger { \</div><div class="line">      unsigned *total; \</div><div class="line">      unsigned *active; \</div><div class="line">      name ## _invocation_logger(<span class="keywordtype">unsigned</span> *total, <span class="keywordtype">unsigned</span> *active) : \</div><div class="line">        total(total), active(active) \</div><div class="line">                        { \</div><div class="line">        ++*total; \</div><div class="line">        ++*active; \</div><div class="line">        dlog(<span class="stringliteral">&quot;NEWDEBUG: Entering &quot;</span> #name <span class="stringliteral">&quot;, now ${total} total calls, ${active} active calls&quot;</span>, (<span class="stringliteral">&quot;total&quot;</span>, *total)(<span class="stringliteral">&quot;active&quot;</span>, *active)); \</div><div class="line">                        } \</div><div class="line">      ~name ## _invocation_logger() \</div><div class="line">                        { \</div><div class="line">        --*active; \</div><div class="line">        dlog(<span class="stringliteral">&quot;NEWDEBUG: Leaving &quot;</span> #name <span class="stringliteral">&quot;, now ${total} total calls, ${active} active calls&quot;</span>, (<span class="stringliteral">&quot;total&quot;</span>, *total)(<span class="stringliteral">&quot;active&quot;</span>, *active)); \</div><div class="line">                        } \</div><div class="line">                } invocation_logger(&amp;total_ ## name ## _counter, &amp;active_ ## name ## _counter)</div></div><!-- fragment -->
</div>
</div>
<a id="a8e39375d99768cf91f9a4bac079c1ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e39375d99768cf91f9a4bac079c1ce6">&#9670;&nbsp;</a></span>INVOKE_AND_COLLECT_STATISTICS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVOKE_AND_COLLECT_STATISTICS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">returnValue, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">method_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">CallStatisticsCollector statistics_collector(#method_name, \</div><div class="line">                                                               &amp;_ ## method_name ## _execution_accumulator, \</div><div class="line">                                                               &amp;_ ## method_name ## _delay_before_accumulator, \</div><div class="line">                                                               &amp;_ ## method_name ## _delay_after_accumulator); \</div><div class="line">                if (_thread-&gt;is_current()) \</div><div class="line">                                                { \</div><div class="line">                    CallStatisticsCollector::ActualExecutionMeasurementHelper helper(statistics_collector); \</div><div class="line">                    if(_node_delegate == <span class="keyword">nullptr</span>){\</div><div class="line">                        return returnValue();\</div><div class="line">                                                }\</div><div class="line">                    return _node_delegate-&gt;method_name(__VA_ARGS__); \</div><div class="line">                                    } \</div><div class="line">                                        else \</div><div class="line">                  return _thread-&gt;async([&amp;](){ \</div><div class="line">                    CallStatisticsCollector::ActualExecutionMeasurementHelper helper(statistics_collector); \</div><div class="line">                    if(_node_delegate == <span class="keyword">nullptr</span>){\</div><div class="line">                        return returnValue();\</div><div class="line">                                                }\</div><div class="line">                    return _node_delegate-&gt;method_name(__VA_ARGS__); \</div><div class="line">                                      }, <span class="stringliteral">&quot;invoke &quot;</span> BOOST_STRINGIZE(method_name)).wait()</div></div><!-- fragment -->
</div>
</div>
<a id="ae476eba36d6dae7183d30ff170b61d41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae476eba36d6dae7183d30ff170b61d41">&#9670;&nbsp;</a></span>INVOKE_IN_IMPL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVOKE_IN_IMPL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">method_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;return my-&gt;_thread-&gt;async([&amp;](){ return my-&gt;method_name(__VA_ARGS__); }, &quot;thread invoke for method &quot; BOOST_PP_STRINGIZE(method_name)).wait()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8238e077a5539c715e8dca0ac73bfa06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8238e077a5539c715e8dca0ac73bfa06">&#9670;&nbsp;</a></span>MAXIMUM_NUMBER_OF_BLOCKS_TO_HANDLE_AT_ONE_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXIMUM_NUMBER_OF_BLOCKS_TO_HANDLE_AT_ONE_TIME&#160;&#160;&#160;200</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a545ea54fda84df8901589fbd57b91c92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a545ea54fda84df8901589fbd57b91c92">&#9670;&nbsp;</a></span>MAXIMUM_NUMBER_OF_BLOCKS_TO_PREFETCH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXIMUM_NUMBER_OF_BLOCKS_TO_PREFETCH&#160;&#160;&#160;(10 * <a class="el" href="_node_8cpp.html#a8238e077a5539c715e8dca0ac73bfa06">MAXIMUM_NUMBER_OF_BLOCKS_TO_HANDLE_AT_ONE_TIME</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f4d813e34a3988bc1f0a4cc41c7b000"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f4d813e34a3988bc1f0a4cc41c7b000">&#9670;&nbsp;</a></span>NODE_CONFIGURATION_FILENAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NODE_CONFIGURATION_FILENAME&#160;&#160;&#160;&quot;node_config.json&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a13b5e2f52305f90794f2cf5d795bff16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13b5e2f52305f90794f2cf5d795bff16">&#9670;&nbsp;</a></span>NODE_DELEGATE_METHOD_NAMES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NODE_DELEGATE_METHOD_NAMES</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(has_item) \</div><div class="line">                                   (handle_message) \</div><div class="line">                                   (get_item_ids) \</div><div class="line">                                   (get_item) \</div><div class="line">                                   (get_chain_id) \</div><div class="line">                                   (get_blockchain_synopsis) \</div><div class="line">                                   (sync_status) \</div><div class="line">                                   (connection_count_changed) \</div><div class="line">                                   (get_block_number) \</div><div class="line">                                   (get_block_time) \</div><div class="line">                                   (get_head_block_id) \</div><div class="line">                                   (<a class="code" href="namespacehsrcore_1_1blockchain.html#adaed6ece3bd7e8e877b5e6ece617f698">estimate_last_known_fork_from_git_revision_timestamp</a>) \</div><div class="line">                                   (error_encountered)\</div><div class="line">                                   (handle_ntp_time)</div><div class="ttc" id="namespacehsrcore_1_1blockchain_html_adaed6ece3bd7e8e877b5e6ece617f698"><div class="ttname"><a href="namespacehsrcore_1_1blockchain.html#adaed6ece3bd7e8e877b5e6ece617f698">hsrcore::blockchain::estimate_last_known_fork_from_git_revision_timestamp</a></div><div class="ttdeci">uint32_t estimate_last_known_fork_from_git_revision_timestamp(uint32_t revision_time)</div><div class="ttdef"><b>Definition:</b> ForkBlocks.cpp:35</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a19ab73e21023b346e097d4976748ecde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ab73e21023b346e097d4976748ecde">&#9670;&nbsp;</a></span>P2P_IN_DEDICATED_THREAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define P2P_IN_DEDICATED_THREAD&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9acee3a44225059cbcba59946a53483b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9acee3a44225059cbcba59946a53483b">&#9670;&nbsp;</a></span>POTENTIAL_PEER_DATABASE_FILENAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define POTENTIAL_PEER_DATABASE_FILENAME&#160;&#160;&#160;&quot;peers.leveldb&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a663a583f9e609791c5f88079500e44da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a663a583f9e609791c5f88079500e44da">&#9670;&nbsp;</a></span>ROLLING_WINDOW_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROLLING_WINDOW_SIZE&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed6716968f40b82c9bb2f6227915dda3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed6716968f40b82c9bb2f6227915dda3">&#9670;&nbsp;</a></span>testnetlog</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define testnetlog</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;do {} while (0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a23d01d35d4785b99189b9861666f49cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d01d35d4785b99189b9861666f49cc">&#9670;&nbsp;</a></span>VERIFY_CORRECT_THREAD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VERIFY_CORRECT_THREAD</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;assert(_thread-&gt;is_current())</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae15b2b86a2a5527d8766892e6467129e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15b2b86a2a5527d8766892e6467129e">&#9670;&nbsp;</a></span>wait_if_endpoint_is_busy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">() accept_incoming_connections() wait_if_endpoint_is_busy </td>
          <td>(</td>
          <td class="paramtype">private_key&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
